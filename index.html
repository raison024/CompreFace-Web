<!DOCTYPE html>
<html data-theme="light">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        .center {
            text-align: center;
          }
    </style>
    <script type="text/javascript">

        function recognizeFace(elem) {
            let apiKey = document.getElementById("apiKey").value;
            let formData = new FormData();
            let photo = elem.files[0];

            formData.append("file", photo);

            fetch('http://64.227.178.8:8000/api/v1/recognition/recognize',
                {
                    method: "POST",
                    headers: {
                        "x-api-key": apiKey
                    },
                    body: formData
                }
            ).then(r => r.json()).then(
                function (data) {
                    document.getElementById("result").innerHTML = JSON.stringify(data);
                })
                .catch(function (error) {
                    alert('Request failed: ' + JSON.stringify(error));
                });
        }
    </script>
    <title>test</title>
</head>
<body>
<main class="container center">
<h1>API Test</h1>
<label for="apiKey">API key:</label><input id="apiKey" />
<div></div>
<div>Click to recognize photo</div>
<input type=file id="recognizeFace" onchange="recognizeFace(this)" />
<div>Result:</div><br>
<div id="result" style="text-align: justify;"></div>

</main>
</body>
</html>